tempo:
  retention: 24h
  storage:
    trace:
      backend: local
      local:
        path: /var/tempo/traces

  # Metrics generator - The key feature for traces â†’ metrics integration
  metricsGenerator:
    enabled: true
    remoteWriteUrl: http://prometheus-kube-prometheus-prometheus.observability.svc.cluster.local:9090/api/v1/write
      
  # Enable service graphs and span metrics
  overrides:
    defaults:
      metrics_generator:
        processors: [service-graphs, span-metrics, local-blocks]

persistence:
  enabled: true
  size: 10Gi
  storageClassName: gp3

resources:
  requests:
    cpu: 200m
    memory: 512Mi
  limits:
    cpu: 500m
    memory: 1Gi

serviceAccount:
  create: true

