tempo:
  # Specific commit for reproducibility
  tag: "1.7.0"
    
  # Metrics generator - The key feature for traces â†’ metrics integration
  metricsGenerator:
    enabled: true
    remoteWriteUrl: http://prometheus-kube-prometheus-prometheus.observability.svc.cluster.local:9090/api/v1/write
      
  # Enable service graphs and span metrics
  overrides:
    defaults:
      metrics_generator:
        processors: [service-graphs, span-metrics, local-blocks]

  storage:
    trace:
      backend: s3
      s3:
        bucket: tempo-bucket
        region: us-east-1

  serviceAccount:
    create: true
    annotations:
      eks.amazonaws.com/role-arn: arn:aws:iam::864899840633:role/my-todo-list-eks-cluster-tempo-irsa

  persistence:
    enabled: false

# Optional: Ensure it runs as a single binary if not already
# (Tempo chart defaults to monolithic/single-binary unless structured)
